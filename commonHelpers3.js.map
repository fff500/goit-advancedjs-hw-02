{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(form);\n  const formDataObj = {};\n\n  for (let [key, value] of formData.entries()) {\n    formDataObj[key] = value;\n  }\n\n  const { delay, step, amount } = formDataObj;\n\n  setTimeout(() => {\n    for (let i = 1; i <= amount; i++) {\n      createPromise(i, i * step)\n        .then(({ position, delay }) => {\n          iziToast.success({\n            color: 'green',\n            message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n          });\n        })\n        .catch(({ position, delay }) => {\n          iziToast.error({\n            color: 'red',\n            message: `❌ Rejected promise ${position} in ${delay}ms`,\n          });\n        });\n    }\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n"],"names":["form","handleSubmit","event","formData","formDataObj","key","value","delay","step","amount","i","createPromise","position","iziToast","shouldResolve","resolve","reject"],"mappings":"wIAIA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAc,CAAA,EAEpB,OAAS,CAACC,EAAKC,CAAK,IAAKH,EAAS,QAAO,EACvCC,EAAYC,GAAOC,EAGrB,KAAM,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAM,EAAKL,EAEhC,WAAW,IAAM,CACf,QAASM,EAAI,EAAGA,GAAKD,EAAQC,IAC3BC,EAAcD,EAAGA,EAAIF,CAAI,EACtB,KAAK,CAAC,CAAE,SAAAI,EAAU,MAAAL,KAAY,CAC7BM,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,uBAAuBD,QAAeL,KAC3D,CAAW,CACX,CAAS,EACA,MAAM,CAAC,CAAE,SAAAK,EAAU,MAAAL,KAAY,CAC9BM,EAAS,MAAM,CACb,MAAO,MACP,QAAS,sBAAsBD,QAAeL,KAC1D,CAAW,CACX,CAAS,CAEN,EAAEA,CAAK,CACV,CAEA,SAASI,EAAcC,EAAUL,EAAO,CACtC,MAAMO,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAH,EAAU,MAAAL,CAAK,CAAE,EAE3BS,EAAO,CAAE,SAAAJ,EAAU,MAAAL,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH"}