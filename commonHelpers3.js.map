{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(form);\n  const formDataObj = {};\n\n  for (let [key, value] of formData.entries()) {\n    formDataObj[key] = value;\n  }\n\n  const { delay, step, amount } = formDataObj;\n\n  setTimeout(() => {\n    for (let i = 0; i < amount; i++) {\n      createPromise(i, i * step)\n        .then(({ position, delay }) => {\n          iziToast.success({\n            message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n            color: 'green',\n          });\n        })\n        .catch(({ position, delay }) => {\n          iziToast.error({\n            message: `❌ Rejected promise ${position} in ${delay}ms`,\n            color: 'red',\n          });\n        });\n    }\n  }, delay);\n}\n"],"names":["form","handleSubmit","createPromise","position","delay","shouldResolve","resolve","reject","event","formData","formDataObj","key","value","step","amount","i","iziToast"],"mappings":"wIAIA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASC,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,EAE3BG,EAAO,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASH,EAAaO,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAAST,CAAI,EAC5BU,EAAc,CAAA,EAEpB,OAAS,CAACC,EAAKC,CAAK,IAAKH,EAAS,QAAO,EACvCC,EAAYC,GAAOC,EAGrB,KAAM,CAAE,MAAAR,EAAO,KAAAS,EAAM,OAAAC,CAAM,EAAKJ,EAEhC,WAAW,IAAM,CACf,QAASK,EAAI,EAAGA,EAAID,EAAQC,IAC1Bb,EAAca,EAAGA,EAAIF,CAAI,EACtB,KAAK,CAAC,CAAE,SAAAV,EAAU,MAAAC,KAAY,CAC7BY,EAAS,QAAQ,CACf,QAAS,uBAAuBb,QAAeC,MAC/C,MAAO,OACnB,CAAW,CACX,CAAS,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9BY,EAAS,MAAM,CACb,QAAS,sBAAsBb,QAAeC,MAC9C,MAAO,KACnB,CAAW,CACX,CAAS,CAEN,EAAEA,CAAK,CACV"}